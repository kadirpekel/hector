# Minimal config for testing search tool with two document stores

# LLM configuration
llms:
  default-llm:
    type: "ollama"
    model: "llama3.1:8b"
    host: "http://localhost:11434"

# Embedder configuration
embedders:
  default-embedder:
    type: "ollama"
    model: "nomic-embed-text"
    host: "http://localhost:11434"

# Vector store configuration
vector_stores:
  qdrant:
    type: "qdrant"
    host: "localhost"
    port: 6334

# Document stores configuration
# These are required for the search tool to work, but point to empty directories
# since the data is already in Qdrant collections. The store names must match
# the collection names for proper filtering.
document_stores:
  cooking_docs:
    name: "cooking_docs"  # Must match Qdrant collection name
    source: "directory"
    path: "./test-docs-empty/cooking"  # Empty directory - no indexing
    watch_changes: false
    incremental_indexing: false

  programming_docs:
    name: "programming_docs"  # Must match Qdrant collection name
    source: "directory"
    path: "./test-docs-empty/programming"  # Empty directory - no indexing
    watch_changes: false
    incremental_indexing: false

# Agent configuration
agents:
  test-agent:
    name: "Test Search Agent"
    description: "Agent for testing search tool with multiple document stores"
    llm: "default-llm"
    vector_store: "qdrant"
    embedder: "default-embedder"
    document_stores:
      - "cooking_docs"
      - "programming_docs"
    # Configure search models to use existing Qdrant collections directly
    # These models tell the search engine which collections to search
    search:
      models:
        - name: "cooking"
          collection: "cooking_docs"  # Existing Qdrant collection
          default_top_k: 10
          max_top_k: 50
        - name: "programming"
          collection: "programming_docs"  # Existing Qdrant collection
          default_top_k: 10
          max_top_k: 50
      top_k: 10
      threshold: 0.0  # No threshold - return all results
    tools:
      - "search"
    prompt:
      system_prompt: |
        You are a helpful assistant that can search through documents.
        Use the search tool to find relevant information when answering questions.

# Search tool configuration
tools:
  search:
    type: "search"
    document_stores:
      - "cooking_docs"
      - "programming_docs"
    default_limit: 10
    max_limit: 50
    enabled_search_types:
      - "content"
      - "file"

